<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#1a0033">
    <title>Bug Ball Blitz - Insect Soccer</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="gameContainer">
        <!-- Title Screen -->
        <div id="titleScreen" class="screen active">
            <canvas id="menuBackgroundCanvas"></canvas>
            <div class="title-content">
                <div class="game-title">
                    <h1 class="title-main">BUG BALL</h1>
                    <h2 class="title-sub">BLITZ</h2>
                    <div class="soccer-ball">‚öΩ</div>
                </div>
            </div>
            <div class="menu-buttons">
                <button class="menu-btn primary-btn" id="createProfileBtn">
                    <span class="btn-icon">üêõ</span>
                    <span class="btn-text">Create Profile</span>
                </button>
                <button class="menu-btn primary-btn" id="loadProfileBtn">
                    <span class="btn-icon">üìÇ</span>
                    <span class="btn-text">Load Profile</span>
                </button>
                <button class="menu-btn secondary-btn" id="exitBtn">
                    <span class="btn-icon">üö™</span>
                    <span class="btn-text">Exit</span>
                </button>
            </div>
            <div class="version-info">v1.0 | Made with ‚ù§Ô∏è</div>
        </div>

        <!-- Profile Creation Screen -->
        <div id="profileCreateScreen" class="screen">
            <h2>Create New Profile</h2>
            <input type="text" id="profileNameInput" placeholder="Enter your name" maxlength="15">
            <div class="menu-buttons">
                <button class="menu-btn" id="confirmProfileBtn">‚úì Create</button>
                <button class="menu-btn" id="cancelProfileBtn">‚úó Cancel</button>
            </div>
        </div>

        <!-- Profile Load Screen -->
        <div id="profileLoadScreen" class="screen">
            <h2>Load Profile</h2>
            <div id="profileList"></div>
            <div class="menu-buttons">
                <button class="menu-btn" id="backToTitleBtn">‚Üê Back</button>
            </div>
        </div>

        <!-- Main Menu -->
        <div id="mainMenu" class="screen">
            <canvas id="mainMenuBackgroundCanvas"></canvas>
            <div class="menu-content">
                <h2>Main Menu</h2>
                <div id="profileInfo" class="profile-info"></div>
                <div class="menu-buttons">
                    <button class="menu-btn" id="towerCampaignBtn">üèÜ Tower Campaign</button>
                    <button class="menu-btn" id="quickPlayBtn">‚ö° Quick Play</button>
                    <button class="menu-btn" id="localMultiplayerBtn">üéÆ Local Multiplayer</button>
                    <button class="menu-btn" id="stylesBtn">‚ú® Styles</button>
                    <button class="menu-btn" id="achievementsBtn">üèÖ Achievements</button>
                    <button class="menu-btn" id="viewStatsBtn">üìä View Stats</button>
                    <button class="menu-btn" id="logoutBtn">üîô Logout</button>
                </div>
            </div>
        </div>

        <!-- Styles Screen -->
        <div id="stylesScreen" class="screen">
            <h2>üé® Goal Celebrations</h2>
            <p class="styles-subtitle">Unlock celebrations by winning matches!</p>
            <div id="celebrationGrid" class="celebration-grid"></div>
            <div class="menu-buttons">
                <button class="menu-btn" id="backToMainFromStylesBtn">‚Üê Back</button>
            </div>
        </div>

        <!-- Stats Screen -->
        <div id="statsScreen" class="screen">
            <h2>Player Stats</h2>
            <div id="statsDisplay"></div>
            <div class="menu-buttons">
                <button class="menu-btn" id="backToMainBtn">‚Üê Back</button>
            </div>
        </div>

        <!-- Achievements Screen -->
        <div id="achievementsScreen" class="screen">
            <h2>üèÖ Achievements</h2>
            <div class="achievement-progress">
                <div class="progress-text">
                    <span id="achievementCount">0/18</span> Unlocked
                    <span class="progress-percentage" id="achievementPercentage">0%</span>
                </div>
                <div class="progress-bar-container">
                    <div class="progress-bar" id="achievementProgressBar"></div>
                </div>
            </div>
            <div class="achievement-filters">
                <button class="filter-btn active" data-category="all">All</button>
                <button class="filter-btn" data-category="goals">Goals</button>
                <button class="filter-btn" data-category="wins">Wins</button>
                <button class="filter-btn" data-category="perfect">Perfect</button>
                <button class="filter-btn" data-category="special">Special</button>
                <button class="filter-btn" data-category="collection">Collection</button>
            </div>
            <div id="achievementGrid" class="achievement-grid"></div>
            <div class="menu-buttons">
                <button class="menu-btn" id="backToMainFromAchievementsBtn">‚Üê Back</button>
            </div>
        </div>

        <!-- Bug Selection Screen -->
        <div id="bugSelectScreen" class="screen">
            <h2>Select Your Bug</h2>
            <div id="bugGrid" class="bug-grid"></div>
            <div class="menu-buttons">
                <button class="menu-btn" id="cancelBugSelectBtn">‚Üê Back</button>
            </div>
        </div>

        <!-- Difficulty Selection (Quick Play) -->
        <div id="difficultyScreen" class="screen">
            <h2>Select Difficulty</h2>
            <div class="menu-buttons">
                <button class="menu-btn difficulty-btn" data-difficulty="easy">üòä Easy</button>
                <button class="menu-btn difficulty-btn" data-difficulty="medium">üòê Medium</button>
                <button class="menu-btn difficulty-btn" data-difficulty="hard">üò† Hard</button>
                <button class="menu-btn difficulty-btn" data-difficulty="pro">üòà Pro</button>
                <button class="menu-btn" id="cancelDifficultyBtn">‚Üê Back</button>
            </div>
        </div>

        <!-- Arena Selection -->
        <div id="arenaSelectScreen" class="screen">
            <h2>Select Arena</h2>
            <div id="arenaGrid" class="arena-grid"></div>
            <div class="menu-buttons">
                <button class="menu-btn" id="cancelArenaSelectBtn">‚Üê Back</button>
            </div>
        </div>

        <!-- Game Canvas -->
        <div id="gameScreen" class="screen">
            <canvas id="gameCanvas"></canvas>
            <div id="gameHUD" class="hud">
                <div class="level-info" id="levelInfo" style="display: none;"></div>
                <div class="score-display">
                    <span id="player1Score">0</span> - <span id="player2Score">0</span>
                </div>
                <div class="timer-display" id="timerDisplay">2:00</div>
                <button class="pause-btn" id="pauseBtn">‚è∏</button>
            </div>
            <!-- Mobile Controls -->
            <div id="mobileControls" class="mobile-controls">
                <div class="joystick-container">
                    <div class="joystick" id="joystick">
                        <div class="joystick-stick"></div>
                    </div>
                </div>
                <div class="action-buttons">
                    <button class="action-btn" id="jumpBtn">JUMP</button>
                </div>
            </div>
            <!-- Player 2 Mobile Controls (Tablets Only) -->
            <div id="mobileControlsP2" class="mobile-controls mobile-controls-p2">
                <div class="joystick-container">
                    <div class="joystick" id="joystickP2">
                        <div class="joystick-stick"></div>
                    </div>
                </div>
                <div class="action-buttons">
                    <button class="action-btn" id="jumpBtnP2">JUMP</button>
                </div>
            </div>
        </div>

        <!-- Settings Menu -->
        <div id="settingsMenu" class="overlay-menu">
            <div class="menu-panel settings-panel">
                <h2>‚öôÔ∏è Settings</h2>
                <div class="settings-options">
                    <!-- Volume Controls -->
                    <div class="setting-section">
                        <h3>üîä Audio</h3>
                        
                        <div class="setting-item slider-item">
                            <label for="soundVolumeSlider">
                                <span>Sound Effects</span>
                                <span class="volume-value" id="soundVolumeValue">70%</span>
                            </label>
                            <input type="range" id="soundVolumeSlider" min="0" max="100" value="70" class="volume-slider">
                        </div>
                        
                        <div class="setting-item slider-item">
                            <label for="musicVolumeSlider">
                                <span>Music</span>
                                <span class="volume-value" id="musicVolumeValue">50%</span>
                            </label>
                            <input type="range" id="musicVolumeSlider" min="0" max="100" value="50" class="volume-slider">
                        </div>
                        
                        <div class="setting-item">
                            <label for="hapticToggle">
                                <span>Haptic Feedback</span>
                                <small>Vibration on mobile devices</small>
                            </label>
                            <label class="toggle-switch">
                                <input type="checkbox" id="hapticToggle" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                    </div>
                    
                    <!-- Controls -->
                    <div class="setting-section">
                        <h3>üéÆ Controls</h3>
                        
                        <div class="setting-item">
                            <label for="touchControlsToggle">
                                <span>Touch Controls</span>
                                <small>Enable on-screen touch controls</small>
                            </label>
                            <label class="toggle-switch">
                                <input type="checkbox" id="touchControlsToggle">
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="menu-buttons">
                    <button class="menu-btn primary-btn" id="closeSettingsBtn">‚úì Done</button>
                </div>
            </div>
        </div>

        <!-- Pause Menu -->
        <div id="pauseMenu" class="overlay-menu">
            <div class="menu-panel pause-panel">
                <h2>‚è∏Ô∏è Paused</h2>
                <div class="pause-info">
                    <div class="pause-score">
                        <span id="pauseScore1" class="score-display">0</span>
                        <span class="score-separator">-</span>
                        <span id="pauseScore2" class="score-display">0</span>
                    </div>
                    <div class="pause-time" id="pauseTimeDisplay">0:00</div>
                </div>
                <div class="menu-buttons">
                    <button class="menu-btn primary-btn" id="resumeBtn">‚ñ∂Ô∏è Resume</button>
                    <button class="menu-btn" id="restartMatchBtn">üîÑ Restart Match</button>
                    <button class="menu-btn" id="pauseSettingsBtn">‚öôÔ∏è Settings</button>
                    <button class="menu-btn danger-btn" id="quitToMenuBtn">üè† Quit to Menu</button>
                </div>
            </div>
        </div>

        <!-- Match End Screen -->
        <div id="matchEndScreen" class="overlay-menu">
            <div class="menu-panel">
                <h2 id="matchResultTitle">Victory!</h2>
                <div id="matchStats"></div>
                <div class="menu-buttons">
                    <button class="menu-btn" id="continueBtn">Continue</button>
                    <button class="menu-btn" id="rematchBtn">Rematch</button>
                    <button class="menu-btn" id="endToMenuBtn">Main Menu</button>
                </div>
            </div>
        </div>

        <!-- Tower Victory Screen -->
        <div id="towerVictoryScreen" class="overlay-menu">
            <div class="menu-panel">
                <h2>üèÜ TOWER COMPLETE! üèÜ</h2>
                <p class="victory-text">You've conquered all challenges!</p>
                <div id="towerVictoryStats"></div>
                <div class="menu-buttons">
                    <button class="menu-btn" id="towerDoneBtn">Main Menu</button>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript Modules -->
    <script type="module" src="main.js"></script>
</body>
</html>
